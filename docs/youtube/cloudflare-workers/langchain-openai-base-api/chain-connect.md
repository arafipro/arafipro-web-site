---
sidebar_position: 9
title: チェーン接続
draft: true
---

LangChain Expression Language (LCEL) を使用して、LangChainモジュールをチェーン接続できます。  
`pipe()`メソッドは、LangChainで2つの要素を組み合わせるために使用されます。  
これは、最適化されたストリーミングやトレースのサポートなど、いくつかの利点があります。

## チェーン接続

この例では、プロンプトテンプレート、言語モデル、出力パーサーの3つのコンポーネントをチェーン接続します。

```javascript
const chain = promptTemplate.pipe(model).pipe(parser);
```

このチェーンは、最初にプロンプトテンプレートを呼び出し、次にその結果を言語モデルに渡し、最後に言語モデルの出力を出力パーサーに渡します。


`invoke`メソッドを使用して、作成したチェーンを実行できます。
チェーンは、言語モデルなどの入力を受け取り、出力パーサーからの出力などの出力を返す関数のように機能します。

## チェーン実行

この例では、`language`と`text`を含むJavaScriptオブジェクトを引数として `invoke()`メソッドを使用しています。

```javascript
await chain.invoke({ language: "日本語", text: "hi" });
```

これにより、"こんにちは"が出力されます。


この `invoke`メソッドは、チェーン内の最初のコンポーネント（この場合はプロンプトテンプレート）を呼び出し、その出力をチェーン内の次のコンポーネント（この場合は言語モデル）に渡し、最後に最後のコンポーネント（この場合は出力パーサー）の出力を返します。
